@layer components
  .sv-elevation
    position: absolute
    inset: 0
    display: inline-block
    pointer-events: none
    z-index: -1
    border-radius: inherit
    transition-duration: 280ms
    transition-property: box-shadow, opacity
    transition-timing-function: cubic-bezier(0.2, 0, 0, 1)
    --level: var(--sv-elevation-level, 0)
    --shadow-color: var(--sv-elevation-color, var(--md-sys-color-shadow, #000))

    &:before,
    &:after
      content: ""
      position: absolute
      inset: 0
      border-radius: inherit
      transition-duration: inherit
      transition-property: inherit
      transition-timing-function: inherit

    &:before
      box-shadow: 0px calc(1px * (clamp(0, var(--level), 1) + clamp(0, var(--level) - 3, 1) + 2 * clamp(0, var(--level) - 4, 1))) calc(1px * (2 * clamp(0, var(--level), 1) + clamp(0, var(--level) - 2, 1) + clamp(0, var(--level) - 4, 1))) 0px var(--shadow-color)
      opacity: .3

    &:after
      box-shadow: 0px calc(1px * (clamp(0, var(--level), 1) + clamp(0, var(--level) - 1, 1) + 2 * clamp(0, var(--level) - 2, 3))) calc(1px * (3 * clamp(0, var(--level), 2) + 2 * clamp(0, var(--level) - 2, 3))) calc(1px * (clamp(0, var(--level), 4) + 2 * clamp(0, var(--level) - 4, 1))) var(--shadow-color)
      opacity: .15
